import{Q as E}from"./QImg.40b13b04.js";import{a1 as N,ay as L,b0 as O,b1 as R,r as Q,c as D,o as U,b2 as j,a3 as f,a4 as I,a5 as i,aj as T,a7 as e,d as o,a8 as _,aq as A,ab as g,a2 as r,l as h,ak as b}from"./index.f6b0e315.js";import{Q as p,c as z,u as F,x as H}from"./index.0ad149ba.js";import{Q as M}from"./QTable.be451506.js";import{Q as G}from"./QPage.3b2df487.js";import{f as J}from"./durationUtils.75008d74.js";const K={key:0,class:"row full-width"},W={class:"col-4 q-px-md",style:{"max-width":"230px"}},X={class:"col-8"},Y={class:"row full-width full-height items-end"},Z={class:"col-12"},$=e("div",{class:"text-body1"},"Track",-1),aa={class:"q-mb-sm-sm q-mb-none q-mt-md"},ea={class:"col-12"},ta={class:"row full-width"},oa={class:"text-subtitle1 text-bold"},la={key:0,class:"text-subtitle1"},sa={class:"text-subtitle1"},na={class:"col-12 q-pt-md"},ia=b("Play"),ca=b("Save"),ra=b("More"),da={class:"col-12 q-pt-md"},ua={class:"col-12 q-pt-md"},ma=N({name:"PageName"}),wa=N({...ma,setup(fa){const P=[{name:"metadata",label:"FIELD",align:"left",field:a=>a.name},{name:"value",label:"VALUE",align:"left",field:a=>a.value}],B=[{name:"metadata",label:"Track",align:"left",field:a=>a.value},{name:"value",label:"Album",align:"left",field:a=>a.name}],w={rowsPerPage:0,descending:!0,field:a=>a.value},k=L(),C=new O(R),t=Q(),c=Q(),S=D(()=>t.value?x(t.value):null),V=D(()=>t.value?v(t.value):null);function v(a){var n,u,d;const l=[];if(a.original)for(let s=0;s<a.original.length;s++){const m=a.original[s],q=(u=(n=m==null?void 0:m.album)==null?void 0:n.fullName)==null?void 0:u._default;if(!q){console.log("One of the original album's name is undefined");continue}l.push({name:q,value:(d=m.title)==null?void 0:d.en})}return l}function x(a){const l=[],n=["staff","arrangement","vocalist","lyricist","genre"],u=a;for(let d of n){const s=u[d];console.log(s),(s==null?void 0:s.length)!=0&&l.push({name:d,value:s.join(",")})}return l}async function y(a){var l;t.value=await C.getTrack({id:a}),c.value=(l=t.value)==null?void 0:l.album,console.log(t.value)}return U(async()=>{console.log("Mounted"),await y(k.currentRoute.value.params.trackId),console.log(v(t.value)),console.log(x(t.value))}),j(async()=>{console.log("Updated"),await y(k.currentRoute.value.params.trackId),console.log(v(t.value))}),(a,l)=>(f(),I(G,{padding:""},{default:i(()=>{var n;return[t.value?(f(),T("div",K,[e("div",W,[o(E,{src:c.value.albumImage.url,ratio:"1"},null,8,["src"])]),e("div",X,[e("div",Y,[e("div",Z,[$,e("h3",aa,_(t.value.name._default),1)]),e("div",ea,[e("div",ta,[e("div",oa,_(c.value.albumArtist[0]),1),c.value.releaseDate?(f(),I(A,{key:0,vertical:"",spaced:""})):g("",!0),e("div",null,[c.value.releaseDate?(f(),T("div",la,_((n=c.value.releaseDate)==null?void 0:n.toLocaleDateString()),1)):g("",!0)]),o(A,{vertical:"",spaced:""}),e("div",sa,_(r(J)(t.value.duration)),1)])])])]),e("div",na,[o(h,{fab:"",class:"q-mx-md",round:"",icon:r(z),color:"black","text-color":"white"},{default:i(()=>[o(p,null,{default:i(()=>[ia]),_:1})]),_:1},8,["icon"]),o(h,{fab:"",flat:"",class:"q-mx-md",round:"",icon:r(F)},{default:i(()=>[o(p,null,{default:i(()=>[ca]),_:1})]),_:1},8,["icon"]),o(h,{fab:"",flat:"",class:"q-mx-md",round:"",icon:r(H)},{default:i(()=>[o(p,null,{default:i(()=>[ra]),_:1})]),_:1},8,["icon"])]),e("div",da,[o(M,{rows:r(V),columns:B,pagination:w,title:"Original",separator:"horizontal","row-key":"index",flat:"","hide-bottom":"","virtual-scroll":"","hide-pagination":""},null,8,["rows"])]),e("div",ua,[o(M,{rows:r(S),columns:P,pagination:w,title:"Metadata",separator:"cell","row-key":"index",flat:"","hide-bottom":"","virtual-scroll":"","hide-header":"","hide-pagination":""},null,8,["rows"])])])):g("",!0)]}),_:1}))}});export{wa as default};
